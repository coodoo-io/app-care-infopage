---
const teamMembers = ['Arend', 'Eike', 'Erik', 'Flo', 'Jan', 'Klemens', 'Marcel', 'Markus', 'Nico', 'Richard', 'Thanh'];
const base = import.meta.env.BASE_URL.replace(/\/?$/, '');
---

<section class="section-padding bg-brand-950 text-white">
  <div class="section-container">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <div>
        <div class="flex items-center gap-3 mb-6">
          <span class="w-8 h-px bg-brand-400"></span>
          <span class="font-display text-xs font-bold tracking-widest uppercase text-brand-400">Team</span>
        </div>
        <h2 class="font-display font-bold text-3xl md:text-5xl text-white mb-6 tracking-tight">
          11 Experten.<br />
          Ein Team.<br />
          <span class="text-brand-400">Deine App.</span>
        </h2>
        <p class="text-slate-400 text-lg leading-relaxed mb-6">
          Betrieben von <a href="https://coodoo.de" target="_blank" rel="noopener noreferrer" class="text-white underline decoration-1 underline-offset-4 hover:text-brand-300 transition-colors">coodoo GmbH</a> — Mobile App Studio aus Mainz. Jede App bekommt zwei feste Ansprechpartner: ausgebildete Informatiker und Mobile-Experten.
        </p>

        <div class="flex items-center gap-3 bg-white/5 border border-white/10 rounded-lg px-4 py-3 mb-8 text-sm text-slate-400">
          <svg class="w-4 h-4 text-brand-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" /></svg>
          Lokal in Mainz — kein Off- oder Nearshore.
        </div>

        <a href={`${base}/team`} class="btn-primary px-6 py-3 text-xs bg-white text-brand-950 hover:bg-slate-100 hover:text-brand-950">
          Team kennenlernen
          <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
        </a>
      </div>

      <div id="team-grid" class="grid grid-cols-3 gap-3">
        {Array.from({ length: 9 }).map((_, i) => (
          <div class="aspect-square rounded-xl overflow-hidden bg-brand-900">
            <img
              data-slot={i}
              alt=""
              class="w-full h-full object-cover object-top opacity-0 transition-opacity duration-500"
            />
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<script define:vars={{ teamMembers, base }}>
  const shuffled = [...teamMembers].sort(() => Math.random() - 0.5).slice(0, 9);
  document.querySelectorAll('#team-grid img[data-slot]').forEach((img, i) => {
    img.src = `${base}/assets/team/${shuffled[i]}.avif`;
    img.onload = () => img.classList.replace('opacity-0', 'opacity-100');
  });
</script>
