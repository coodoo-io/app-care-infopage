---
const base = import.meta.env.BASE_URL.replace(/\/?$/, '');

const kpiCards = [
  { value: '+51%', label: 'Aktive Nutzer', abbr: 'MAU' },
  { value: '99,2%', label: 'Crash-freie Sessions', abbr: 'Stabilität' },
  { value: '4,8', label: 'App Store Rating', abbr: 'Bewertung' },
  { value: '+53%', label: 'Neue Abonnenten', abbr: 'Subscriptions' },
  { value: '-50%', label: 'Weniger Abwanderung', abbr: 'Churn' },
  { value: '+62%', label: 'Längere Sessions', abbr: 'Engagement' },
];
---

<section class="pt-24 pb-20 md:pt-32 md:pb-28 bg-white relative overflow-hidden">
  <!-- Subtle dot grid -->
  <div class="absolute inset-0 pointer-events-none opacity-[0.35]" style="background-image: radial-gradient(circle, #d6d3d1 1px, transparent 1px); background-size: 32px 32px;"></div>

  <div class="section-container relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">

      <!-- Left: Content -->
      <div class="max-w-xl">
        <div class="inline-flex items-center gap-2 bg-brand-50 border border-brand-100 rounded-full px-4 py-1.5 text-xs font-medium text-brand-700 mb-8">
          <span class="w-1.5 h-1.5 bg-brand-500 rounded-full animate-pulse"></span>
          Mobile App Betreuung
        </div>

        <h1 class="font-display font-extrabold text-4xl md:text-5xl lg:text-[3.5rem] leading-[1.08] tracking-tight text-stone-900 mb-6">
          Deine App verdient<br />
          <span class="text-brand-500">ein ganzes Team.</span>
        </h1>

        <p class="text-lg text-stone-500 leading-relaxed mb-10 max-w-md">
          Wir messen, monitoren und entwickeln deine App weiter — jeden Monat, KPI-getrieben, mit 11 Experten.
        </p>

        <div class="flex flex-col sm:flex-row items-start gap-3">
          <a href={`${base}/kontakt`} class="btn-primary text-base px-7 py-3.5">
            Gespräch buchen
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a href={`${base}/pakete`} class="btn-secondary text-base px-7 py-3.5">
            Pakete ansehen
          </a>
        </div>
      </div>

      <!-- Right: KPI Grid -->
      <div class="hidden lg:block">
        <div class="grid grid-cols-2 gap-3">
          {kpiCards.map((card, i) => (
            <div
              class:list={[
                'bg-white border border-stone-200 rounded-xl p-5',
                'hover:shadow-lg hover:-translate-y-0.5',
                'transition-all duration-300 ease-out',
                'hero-card',
                i === 0 && 'col-span-2',
              ]}
              style={`animation-delay: ${i * 80}ms;`}
            >
              <p class="text-[11px] font-medium text-stone-400 uppercase tracking-wider mb-1">{card.abbr}</p>
              <p class="font-display font-bold text-2xl text-stone-900">{card.value}</p>
              <p class="text-xs text-stone-500 mt-0.5">{card.label}</p>
            </div>
          ))}
        </div>
      </div>

      <!-- Mobile: Compact KPI row -->
      <div class="lg:hidden flex flex-wrap gap-3 -mt-4">
        {kpiCards.slice(0, 3).map((card) => (
          <div class="bg-stone-50 border border-stone-200 rounded-lg px-4 py-3 flex-1 min-w-[100px]">
            <p class="font-display font-bold text-lg text-stone-900">{card.value}</p>
            <p class="text-[11px] text-stone-500">{card.abbr}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- Social Proof -->
    <div class="mt-20 pt-10 border-t border-stone-100">
      <div class="flex flex-col sm:flex-row items-center justify-center gap-10 sm:gap-16">
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">100+</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wider font-medium">Apps betreut</div>
        </div>
        <div class="hidden sm:block w-px h-10 bg-stone-200"></div>
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">500k+</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wider font-medium">Nutzer</div>
        </div>
        <div class="hidden sm:block w-px h-10 bg-stone-200"></div>
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">11</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wider font-medium">Experten</div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .hero-card {
    opacity: 0;
    transform: translateY(12px);
    animation: hero-card-in 0.5s ease-out forwards;
  }

  @keyframes hero-card-in {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
