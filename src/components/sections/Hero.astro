---
const base = import.meta.env.BASE_URL.replace(/\/?$/, '');

const kpiCards = [
  { label: 'Monthly Active Users', value: '+51%', abbr: 'MAU', positive: true },
  { label: 'Sessions ohne Absturz', value: '99,2%', abbr: 'Crash-frei', positive: true },
  { label: 'App Store Bewertung', value: '4,8', abbr: 'Rating', positive: true },
  { label: 'Aktive Abonnenten', value: '+53%', abbr: 'Subscriptions', positive: true },
  { label: 'Weniger Abwanderung', value: '-50%', abbr: 'Churn', positive: true },
  { label: 'Längere Session-Dauer', value: '+62%', abbr: 'Sessions', positive: true },
];
---

<section class="pt-24 pb-20 md:pt-32 md:pb-28 bg-white relative overflow-hidden">
  <!-- Subtle dot grid background -->
  <div class="absolute inset-0 pointer-events-none opacity-40" style="background-image: radial-gradient(circle, #d6d3d1 1px, transparent 1px); background-size: 32px 32px;"></div>

  <div class="section-container relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">

      <!-- Left: Content -->
      <div class="max-w-xl">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 bg-brand-50 border border-brand-100 rounded-full px-4 py-1.5 text-xs font-medium text-brand-700 mb-8">
          <span class="w-1.5 h-1.5 bg-brand-500 rounded-full animate-pulse"></span>
          Monatliches Betreuungspaket für Mobile Apps
        </div>

        <!-- Headline -->
        <h1 class="font-display font-extrabold text-4xl md:text-5xl lg:text-6xl leading-[1.1] tracking-tight text-stone-900 mb-6">
          Deine Mobile App.<br />
          <span class="text-brand-500">KPI-getrieben zum Erfolg.</span>
        </h1>

        <!-- Subheadline -->
        <p class="text-lg md:text-xl text-stone-500 leading-relaxed mb-10 max-w-lg">
          Während du dich auf dein Business konzentrierst, kümmern wir uns um deine App und entwickeln sie jeden Monat ein Stück weiter.
        </p>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row items-start gap-4">
          <a
            href={`${base}/kontakt`}
            class="btn-primary text-base px-8 py-4"
          >
            Gespräch buchen
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a
            href={`${base}/pakete`}
            class="btn-secondary text-base px-8 py-4"
          >
            Pakete ansehen
          </a>
        </div>
      </div>

      <!-- Right: KPI Infographic Grid -->
      <div class="hidden lg:block">
        <div class="grid grid-cols-2 gap-3">
          {kpiCards.map((card, i) => (
            <div
              class:list={[
                'bg-white border border-stone-200 rounded-xl p-5',
                'hover:shadow-lg hover:-translate-y-0.5',
                'transition-all duration-300 ease-out',
                'hero-card',
                i === 0 && 'col-span-2',
              ]}
              style={`animation-delay: ${i * 80}ms;`}
            >
              <p class="text-xs font-medium text-stone-400 uppercase tracking-wide mb-1">{card.abbr}</p>
              <p class="font-display font-bold text-2xl text-stone-900 mb-0.5">
                {card.value}
              </p>
              <p class="text-xs text-stone-500">{card.label}</p>
            </div>
          ))}
        </div>
      </div>

      <!-- Mobile: Compact KPI row -->
      <div class="lg:hidden flex flex-wrap gap-3 -mt-4">
        {kpiCards.slice(0, 3).map((card) => (
          <div class="bg-stone-50 border border-stone-200 rounded-lg px-4 py-3 flex-1 min-w-[120px]">
            <p class="font-display font-bold text-lg text-stone-900">{card.value}</p>
            <p class="text-xs text-stone-500">{card.abbr}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- Social Proof Bar -->
    <div class="mt-20 pt-10 border-t border-stone-100">
      <div class="flex flex-col sm:flex-row items-center justify-center gap-10 sm:gap-16">
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">100+</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wide font-medium">Apps betreut</div>
        </div>
        <div class="hidden sm:block w-px h-10 bg-stone-200"></div>
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">500.000+</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wide font-medium">Nutzer auf betreuten Apps</div>
        </div>
        <div class="hidden sm:block w-px h-10 bg-stone-200"></div>
        <div class="text-center">
          <div class="font-display font-bold text-3xl text-stone-900">11</div>
          <div class="text-xs text-stone-400 mt-1 uppercase tracking-wide font-medium">Mobile-App-Experten</div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .hero-card {
    opacity: 0;
    transform: translateY(12px);
    animation: hero-card-in 0.5s ease-out forwards;
  }

  @keyframes hero-card-in {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
